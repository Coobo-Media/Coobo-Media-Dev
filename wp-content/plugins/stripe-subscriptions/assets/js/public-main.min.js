!function(a){"use strict";a(function(){function b(b){return a.inArray(b.toUpperCase(),sc_script.zero_decimal_currencies)>1}function c(a,c){c=c.toUpperCase(),a=b(c)?Math.round(a):(a/100).toFixed(2);var d="";return d="USD"===c?"$"+a:a+" "+c}var d=a("body");d.find(".sc-checkout-form").each(function(){var b=a(this),d=b.data("sc-id")||"";b.has(".sc_sub_amount").length>0&&(sc_script[d].amount=b.find(".sc_sub_amount").val(),sc_script[d].originalAmount=b.find(".sc_sub_amount").val(),b.has(".sc_sub_currency").length>0?sc_script[d].currency=b.find(".sc_sub_currency").val():sc_script[d].currency=b.find('.sc_sub_wrapper .sc-radio-group input[type="radio"]:checked').data("sub-currency")),b.find('.sc_sub_wrapper input[type="radio"]').on("change",function(){b.find(".sc_sub_id").val(a(this).data("sub-id")),b.find(".sc_sub_amount").val(a(this).data("sub-amount")),b.find(".sc_sub_interval").val(a(this).data("sub-interval")),b.find(".sc_sub_interval_count").val(a(this).data("sub-interval-count")),sc_script[d].amount=b.find(".sc_sub_amount").val(),sc_script[d].originalAmount=b.find(".sc_sub_amount").val(),sc_script[d].currency=a(this).data("sub-currency");var e=b.find(".sc-coup-coupon-code").val();if(e){b.find(".sc-payment-btn").prop("disabled",!0);var f=b.find(".sc-coup-success-message").html();b.find(".sc-coup-success-message").html("Calculating..."),b.find(".sc-coup-remove-coupon").hide();var g={action:"sc_coup_get_coupon",coupon:e,amount:sc_script[d].amount};a.post(sc_sub.ajaxurl,g,function(a){a.success&&(sc_script[d].amount=a.message,b.find(".sc-total-amount").html(c(sc_script[d].amount,sc_script[d].currency))),b.find(".sc-payment-btn").prop("disabled",!1),b.find(".sc-coup-success-message").html(f),b.find(".sc-coup-remove-coupon").show()},"json")}b.find(".sc-total-amount").html(c(sc_script[d].amount,sc_script[d].currency))}),b.find(".sc-total-amount").html(c(sc_script[d].amount,sc_script[d].currency))})})}(jQuery);